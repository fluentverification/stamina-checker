<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STAMINA/STORM: stamina::builder::threads::ControlThread&lt; StateType, RewardModelType, ValueType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="staminaLogo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">STAMINA/STORM<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Infinite state-space truncator which generates a probability within a window</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestamina.html">stamina</a></li><li class="navelem"><b>builder</b></li><li class="navelem"><b>threads</b></li><li class="navelem"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">ControlThread</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstamina_1_1builder_1_1threads_1_1ControlThread-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">stamina::builder::threads::ControlThread&lt; StateType, RewardModelType, ValueType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for stamina::builder::threads::ControlThread&lt; StateType, RewardModelType, ValueType &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classstamina_1_1builder_1_1threads_1_1ControlThread.png" usemap="#stamina::builder::threads::ControlThread_3C_20StateType_2C_20RewardModelType_2C_20ValueType_20_3E_map" alt=""/>
  <map id="stamina::builder::threads::ControlThread_3C_20StateType_2C_20RewardModelType_2C_20ValueType_20_3E_map" name="stamina::builder::threads::ControlThread_3C_20StateType_2C_20RewardModelType_2C_20ValueType_20_3E_map">
<area href="classstamina_1_1builder_1_1threads_1_1BaseThread.html" alt="stamina::builder::threads::BaseThread&lt; StateType, RewardModelType, ValueType &gt;" shape="rect" coords="0,0,499,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread_1_1LockableDeque.html">LockableDeque</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstamina_1_1builder_1_1threads_1_1ControlThread_1_1StateAndThreadIndex.html">StateAndThreadIndex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad6eef21ffc71079900b9424f949ac550"><td class="memItemLeft" align="right" valign="top"><a id="ad6eef21ffc71079900b9424f949ac550" name="ad6eef21ffc71079900b9424f949ac550"></a>
typedef <a class="el" href="classstamina_1_1builder_1_1threads_1_1ExplorationThread.html">ExplorationThread</a>&lt; StateType, RewardModelType, ValueType &gt;::StateAndProbability&#160;</td><td class="memItemRight" valign="bottom"><b>StateAndProbability</b></td></tr>
<tr class="separator:ad6eef21ffc71079900b9424f949ac550"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a82844edcc42d8a1c8825f9acc57e1134"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#a82844edcc42d8a1c8825f9acc57e1134">ControlThread</a> (<a class="el" href="classstamina_1_1builder_1_1StaminaModelBuilder.html">StaminaModelBuilder</a>&lt; ValueType, RewardModelType, StateType &gt; *parent, uint8_t numberExplorationThreads)</td></tr>
<tr class="separator:a82844edcc42d8a1c8825f9acc57e1134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21962436cfb47f9f5341eb20f9479fc"><td class="memItemLeft" align="right" valign="top">std::pair&lt; uint8_t, StateType &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#ab21962436cfb47f9f5341eb20f9479fc">requestOwnership</a> (CompressedState &amp;state, uint8_t threadIndex, StateType requestedId=0)</td></tr>
<tr class="separator:ab21962436cfb47f9f5341eb20f9479fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2a00128579dc6e1563d089c478d0f4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#acd2a00128579dc6e1563d089c478d0f4">whoOwns</a> (CompressedState &amp;state)</td></tr>
<tr class="separator:acd2a00128579dc6e1563d089c478d0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7ef0cfbe027b7f6253e13aa7327fff"><td class="memItemLeft" align="right" valign="top">StateType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#a2b7ef0cfbe027b7f6253e13aa7327fff">whatIsIndex</a> (CompressedState &amp;state)</td></tr>
<tr class="separator:a2b7ef0cfbe027b7f6253e13aa7327fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb11d48e61c73d2eb2f98f5ca4dd7d92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#acb11d48e61c73d2eb2f98f5ca4dd7d92">requestInsertTransition</a> (uint8_t thread, StateType from, StateType to, double rate)</td></tr>
<tr class="separator:acb11d48e61c73d2eb2f98f5ca4dd7d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2491df2275bcbc95354bcd779ef92ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#aa2491df2275bcbc95354bcd779ef92ce">requestCrossExplorationFromThread</a> (<a class="el" href="structstamina_1_1builder_1_1threads_1_1ExplorationThread_1_1StateAndProbability.html">StateAndProbability</a> stateAndProbability, double threadIndex)</td></tr>
<tr class="separator:aa2491df2275bcbc95354bcd779ef92ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe8cc892e7a7b32264c31884446f676"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html#a3fe8cc892e7a7b32264c31884446f676">mainLoop</a> () override</td></tr>
<tr class="separator:a3fe8cc892e7a7b32264c31884446f676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a774b3dbede721c7450cb68581c7ef"><td class="memItemLeft" align="right" valign="top"><a id="ab9a774b3dbede721c7450cb68581c7ef" name="ab9a774b3dbede721c7450cb68581c7ef"></a>
storm::storage::sparse::StateStorage&lt; <a class="el" href="structstamina_1_1builder_1_1threads_1_1ControlThread_1_1StateAndThreadIndex.html">StateAndThreadIndex</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getStateStorage</b> ()</td></tr>
<tr class="separator:ab9a774b3dbede721c7450cb68581c7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e6e80b33d487e2b81fdba7afa46e5e"><td class="memItemLeft" align="right" valign="top"><a id="a26e6e80b33d487e2b81fdba7afa46e5e" name="a26e6e80b33d487e2b81fdba7afa46e5e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>terminate</b> ()</td></tr>
<tr class="separator:a26e6e80b33d487e2b81fdba7afa46e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html">stamina::builder::threads::BaseThread&lt; StateType, RewardModelType, ValueType &gt;</a></td></tr>
<tr class="memitem:a5050d69988e64ccf1931627e4be555f3 inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html#a5050d69988e64ccf1931627e4be555f3">BaseThread</a> (<a class="el" href="classstamina_1_1builder_1_1StaminaModelBuilder.html">StaminaModelBuilder</a>&lt; ValueType, RewardModelType, StateType &gt; *parent)</td></tr>
<tr class="separator:a5050d69988e64ccf1931627e4be555f3 inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad680cd3f87ea02b38517b0ccfb304771 inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html#ad680cd3f87ea02b38517b0ccfb304771">mainLoop</a> ()=0</td></tr>
<tr class="separator:ad680cd3f87ea02b38517b0ccfb304771 inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace56908223efd3fbd5295d4568398c9c inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html#ace56908223efd3fbd5295d4568398c9c">startThread</a> ()</td></tr>
<tr class="separator:ace56908223efd3fbd5295d4568398c9c inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa79bdb584836026bc0e03e624e6f68f inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classstamina_1_1builder_1_1StaminaModelBuilder.html">StaminaModelBuilder</a>&lt; ValueType, RewardModelType, StateType &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html#aaa79bdb584836026bc0e03e624e6f68f">getParent</a> ()</td></tr>
<tr class="separator:aaa79bdb584836026bc0e03e624e6f68f inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db8812ecbea2603dc2669113c1cfedf inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html#a4db8812ecbea2603dc2669113c1cfedf">join</a> ()</td></tr>
<tr class="separator:a4db8812ecbea2603dc2669113c1cfedf inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60c7d082ba72bb68b6e62925cfcc53a inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top"><a id="ad60c7d082ba72bb68b6e62925cfcc53a" name="ad60c7d082ba72bb68b6e62925cfcc53a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>terminate</b> ()</td></tr>
<tr class="separator:ad60c7d082ba72bb68b6e62925cfcc53a inherit pub_methods_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classstamina_1_1builder_1_1threads_1_1BaseThread"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstamina_1_1builder_1_1threads_1_1BaseThread')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html">stamina::builder::threads::BaseThread&lt; StateType, RewardModelType, ValueType &gt;</a></td></tr>
<tr class="memitem:a04b0029d9e8d84b2c91bbdc55d793703 inherit pro_attribs_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memItemLeft" align="right" valign="top"><a id="a04b0029d9e8d84b2c91bbdc55d793703" name="a04b0029d9e8d84b2c91bbdc55d793703"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>finished</b></td></tr>
<tr class="separator:a04b0029d9e8d84b2c91bbdc55d793703 inherit pro_attribs_classstamina_1_1builder_1_1threads_1_1BaseThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a82844edcc42d8a1c8825f9acc57e1134" name="a82844edcc42d8a1c8825f9acc57e1134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82844edcc42d8a1c8825f9acc57e1134">&#9670;&nbsp;</a></span>ControlThread()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::ControlThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstamina_1_1builder_1_1StaminaModelBuilder.html">StaminaModelBuilder</a>&lt; ValueType, RewardModelType, StateType &gt; *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>numberExplorationThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructor for <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">ControlThread</a>. Primarily just calls super class constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>The model builder who owns this thread </td></tr>
    <tr><td class="paramname">numberExplorationThreads</td><td>The number of exploration threads who will be using this worker thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3fe8cc892e7a7b32264c31884446f676" name="a3fe8cc892e7a7b32264c31884446f676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe8cc892e7a7b32264c31884446f676">&#9670;&nbsp;</a></span>mainLoop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::mainLoop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This thread lives for the duration of all exploration threads. It waits for the exploration threads to all emit a "finished" signal, and then tells each exploration thread to die.</p>
<p >The main loop for this thread also flushes things to the parents' transitionsToAdd, which is not locked or mutex'ed because there is only one worker thread to do that. </p>

<p>Implements <a class="el" href="classstamina_1_1builder_1_1threads_1_1BaseThread.html#ad680cd3f87ea02b38517b0ccfb304771">stamina::builder::threads::BaseThread&lt; StateType, RewardModelType, ValueType &gt;</a>.</p>

</div>
</div>
<a id="aa2491df2275bcbc95354bcd779ef92ce" name="aa2491df2275bcbc95354bcd779ef92ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2491df2275bcbc95354bcd779ef92ce">&#9670;&nbsp;</a></span>requestCrossExplorationFromThread()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::requestCrossExplorationFromThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstamina_1_1builder_1_1threads_1_1ExplorationThread_1_1StateAndProbability.html">StateAndProbability</a>&#160;</td>
          <td class="paramname"><em>stateAndProbability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threadIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Requests cross exploration from a</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stateAndProbability</td><td>A datastructure containing: state The state to cross explore deltaPi The difference in probability to add stateIndex The state index we found </td></tr>
    <tr><td class="paramname">threadIndex</td><td>Thread index to request cross exploration from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb11d48e61c73d2eb2f98f5ca4dd7d92" name="acb11d48e61c73d2eb2f98f5ca4dd7d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb11d48e61c73d2eb2f98f5ca4dd7d92">&#9670;&nbsp;</a></span>requestInsertTransition()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::requestInsertTransition </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StateType&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StateType&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Requests a transition to be inserted (not necessarily in order). These transitions are requested by the exploration threads and are flushed to the model builder's data structure on a "when available" basis, meaning that when this thread idles, it transfers these transitions. Additionally, it maintains mutexes for each thread and only locks the mutex for that particular thread to prevent mutex collisions on the different threads requesting transition insertion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>The index of the thread making the request </td></tr>
    <tr><td class="paramname">from</td><td>The index of the state we are transitioning from </td></tr>
    <tr><td class="paramname">to</td><td>The index of the state we are transitioning to </td></tr>
    <tr><td class="paramname">rate</td><td>The transition rate (if CTMC) or transition probability (if DTMC) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab21962436cfb47f9f5341eb20f9479fc" name="ab21962436cfb47f9f5341eb20f9479fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab21962436cfb47f9f5341eb20f9479fc">&#9670;&nbsp;</a></span>requestOwnership()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; uint8_t, StateType &gt; <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::requestOwnership </td>
          <td>(</td>
          <td class="paramtype">CompressedState &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>threadIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StateType&#160;</td>
          <td class="paramname"><em>requestedId</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Requests ownership of a state for a particular thread. This is intended to be called by the thread whose index matches the second parameter in this function. This function <em>locks the mutex</em> and so it should not be used if we just wish to ask who owns a particular state.</p>
<p >If request ownership is successful, the return value is equal to the index of the state requesting ownership of the state. However, if it is not successful, then the return value gives the thread which potentially locked the mutex and got ownership first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state to request ownership for </td></tr>
    <tr><td class="paramname">threadIndex</td><td>The thread who wants ownership of the state. </td></tr>
    <tr><td class="paramname">requestedId</td><td>The (new) stateId that a thread can request we assign a state to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The thread who owns the state and the new state index </dd></dl>

</div>
</div>
<a id="a2b7ef0cfbe027b7f6253e13aa7327fff" name="a2b7ef0cfbe027b7f6253e13aa7327fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7ef0cfbe027b7f6253e13aa7327fff">&#9670;&nbsp;</a></span>whatIsIndex()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">StateType <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::whatIsIndex </td>
          <td>(</td>
          <td class="paramtype">CompressedState &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Gets the index of a state which already exists. If the state does not exist, returns 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state to look up </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state index </dd></dl>

</div>
</div>
<a id="acd2a00128579dc6e1563d089c478d0f4" name="acd2a00128579dc6e1563d089c478d0f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2a00128579dc6e1563d089c478d0f4">&#9670;&nbsp;</a></span>whoOwns()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StateType , typename RewardModelType , typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classstamina_1_1builder_1_1threads_1_1ControlThread.html">stamina::builder::threads::ControlThread</a>&lt; StateType, RewardModelType, ValueType &gt;::whoOwns </td>
          <td>(</td>
          <td class="paramtype">CompressedState &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Gets the owning thread of a particular state without locking the mutex. This allows for threads to use the many-read, one-write idea put forth in the paper.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state who we wonder if owns </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The thread who owns <code>state</code> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/josh/Documents/Work/stamina-cplusplus/src/stamina/builder/threads/<a class="el" href="ControlThread_8h_source.html">ControlThread.h</a></li>
<li>/home/josh/Documents/Work/stamina-cplusplus/src/stamina/builder/threads/ControlThread.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
